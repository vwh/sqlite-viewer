import{O as we,C as he,T as ge,a as ve,b as ye,D as be,R as Se,P as Re}from"./@radix-ui-DaOuI3kJ.js";import{R as r,r as wt}from"./react-D3M8TY1j.js";function Te(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Wt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),et=()=>{const t=r.useContext(Wt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Te(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Ee=24,De=typeof window<"u"?wt.useLayoutEffect:wt.useEffect;function Bt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}function Oe(){return xt(/^Mac/)}function Ce(){return xt(/^iPhone/)}function kt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function xe(){return xt(/^iPad/)||Oe()&&navigator.maxTouchPoints>1}function zt(){return Ce()||xe()}function xt(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Rt=typeof document<"u"&&window.visualViewport;function Ut(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Vt(t){for(Ut(t)&&(t=t.parentElement);t&&!Ut(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const $e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let mt=0,Tt;function Ae(t={}){let{isDisabled:n}=t;De(()=>{if(!n)return mt++,mt===1&&zt()&&(Tt=Me()),()=>{mt--,mt===0&&(Tt==null||Tt())}},[n])}function Me(){let t,n=0,e=w=>{t=Vt(w.target),!(t===document.documentElement&&t===document.body)&&(n=w.changedTouches[0].pageY)},a=w=>{if(!t||t===document.documentElement||t===document.body){w.preventDefault();return}let h=w.changedTouches[0].pageY,H=t.scrollTop,F=t.scrollHeight-t.clientHeight;F!==0&&((H<=0&&h>n||H>=F&&h<n)&&w.preventDefault(),n=h)},i=w=>{let h=w.target;Ot(h)&&h!==document.activeElement&&(w.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=w=>{let h=w.target;Ot(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Rt&&(Rt.height<window.innerHeight?requestAnimationFrame(()=>{Ft(h)}):Rt.addEventListener("resize",()=>Ft(h),{once:!0}))}))},d=()=>{window.scrollTo(0,0)},f=window.pageXOffset,S=window.pageYOffset,E=Bt(Pe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=Bt(st(document,"touchstart",e,{passive:!1,capture:!0}),st(document,"touchmove",a,{passive:!1,capture:!0}),st(document,"touchend",i,{passive:!1,capture:!0}),st(document,"focus",o,!0),st(window,"scroll",d));return()=>{E(),g(),window.scrollTo(f,S)}}function Pe(t,n,e){let a=t.style[n];return t.style[n]=e,()=>{t.style[n]=a}}function st(t,n,e,a){return t.addEventListener(n,e,a),()=>{t.removeEventListener(n,e,a)}}function Ft(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=Vt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let a=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const d=e.getBoundingClientRect().bottom+Ee;o>d&&(e.scrollTop+=i-a)}t=e.parentElement}}function Ot(t){return t instanceof HTMLInputElement&&!$e.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ie(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Ne(...t){return n=>t.forEach(e=>Ie(e,n))}function Yt(...t){return wt.useCallback(Ne(...t),t)}const jt=new WeakMap;function x(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}a[i]=t.style[i],t.style[i]=o}),!e&&jt.set(t,a)}function _e(t,n){if(!t||!(t instanceof HTMLElement))return;let e=jt.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function pt(t,n){if(!t)return null;const e=window.getComputedStyle(t),a=e.transform||e.webkitTransform||e.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function He(t){return 8*(Math.log(t+1)-2)}function Et(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Le(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},qt=.4,Be=.25,ke=100,Xt=8,Q=16,Ct=26,Dt="vaul-dragging";function Kt(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Ue({defaultProp:t,onChange:n}){const e=r.useState(t),[a]=e,i=r.useRef(a),o=Kt(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),e}function Gt({prop:t,defaultProp:n,onChange:e=()=>{}}){const[a,i]=Ue({defaultProp:n,onChange:e}),o=t!==void 0,d=o?t:a,f=Kt(e),S=r.useCallback(E=>{if(o){const w=typeof E=="function"?E(t):E;w!==t&&f(w)}else i(E)},[o,t,i,f]);return[d,S]}function Fe({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:d,direction:f="bottom",container:S,snapToSequentialPoint:E}){const[g,w]=Gt({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[h,H]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function m(){H({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const F=r.useMemo(()=>g===(e==null?void 0:e[e.length-1])||null,[e,g]),C=r.useMemo(()=>e==null?void 0:e.findIndex(m=>m===g),[e,g]),z=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===g||!e,p=r.useMemo(()=>{const m=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var R;return(R=e==null?void 0:e.map(v=>{const N=typeof v=="string";let s=0;if(N&&(s=parseInt(v,10)),$(f)){const M=N?s:h?v*m.height:0;return h?f==="bottom"?m.height-M:-m.height+M:M}const P=N?s:h?v*m.width:0;return h?f==="right"?m.width-P:-m.width+P:P}))!=null?R:[]},[e,h,S]),L=r.useMemo(()=>C!==null?p==null?void 0:p[C]:null,[p,C]),A=r.useCallback(m=>{var R;const v=(R=p==null?void 0:p.findIndex(N=>N===m))!=null?R:null;d(v),x(a.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(f)?`translate3d(0, ${m}px, 0)`:`translate3d(${m}px, 0, 0)`}),p&&v!==p.length-1&&v!==o&&v<o?x(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):x(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),w(e==null?void 0:e[Math.max(v,0)])},[a.current,e,p,o,i,w]);r.useEffect(()=>{if(g||t){var m;const R=(m=e==null?void 0:e.findIndex(v=>v===t||v===g))!=null?m:-1;p&&R!==-1&&typeof p[R]=="number"&&A(p[R])}},[g,t,e,p,A]);function c({draggedDistance:m,closeDrawer:R,velocity:v,dismissible:N}){if(o===void 0)return;const s=f==="bottom"||f==="right"?(L??0)-m:(L??0)+m,P=C===o-1,M=C===0,B=m>0;if(P&&x(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!E&&v>2&&!B){N?R():A(p[0]);return}if(!E&&v>2&&B&&p&&e){A(p[e.length-1]);return}const k=p==null?void 0:p.reduce((U,G)=>typeof U!="number"||typeof G!="number"?U:Math.abs(G-s)<Math.abs(U-s)?G:U),X=$(f)?window.innerHeight:window.innerWidth;if(v>qt&&Math.abs(m)<X*.4){const U=B?1:-1;if(U>0&&F){A(p[e.length-1]);return}if(M&&U<0&&N&&R(),C===null)return;A(p[C+U]);return}A(k)}function I({draggedDistance:m}){if(L===null)return;const R=f==="bottom"||f==="right"?L-m:L+m;(f==="bottom"||f==="right")&&R<p[p.length-1]||(f==="top"||f==="left")&&R>p[p.length-1]||x(a.current,{transform:$(f)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})}function q(m,R){if(!e||typeof C!="number"||!p||o===void 0)return null;const v=C===o-1;if(C>=o&&R)return 0;if(v&&!R)return 1;if(!z&&!v)return null;const s=v?C+1:C-1,P=v?p[s]-p[s-1]:p[s+1]-p[s],M=m/Math.abs(P);return v?1-M:M}return{isLastSnapPoint:F,activeSnapPoint:g,shouldFade:z,getPercentageDragged:q,setActiveSnapPoint:w,activeSnapPointIndex:C,onRelease:c,onDrag:I,snapPointsOffset:p}}const We=()=>()=>{};function ze(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:a,noBodyStyles:i}=et(),o=r.useRef(null),d=wt.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-Ct)/window.innerWidth}r.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;Le(a&&!i?Et(document.body,{background:"black"}):We,Et(S,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const E=Et(S,{borderRadius:`${Xt}px`,overflow:"hidden",...$(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{E(),o.current=window.setTimeout(()=>{d?document.body.style.background=d:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,d])}let lt=null;function Ve({isOpen:t,modal:n,nested:e,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[d,f]=r.useState(()=>typeof window<"u"?window.location.href:""),S=r.useRef(0),E=r.useCallback(()=>{if(kt()&&lt===null&&t&&!o){lt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const H=h-window.innerHeight;H&&S.current>=h&&(document.body.style.top=`${-(S.current+H)}px`)}),300)}},[t]),g=r.useCallback(()=>{if(kt()&&lt!==null&&!o){const w=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,lt),window.requestAnimationFrame(()=>{if(i&&d!==window.location.href){f(window.location.href);return}window.scrollTo(h,w)}),lt=null}},[d]);return r.useEffect(()=>{function w(){S.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),r.useEffect(()=>{e||!a||(t?(!window.matchMedia("(display-mode: standalone)").matches&&E(),n||window.setTimeout(()=>{g()},500)):g())},[t,a,d,n,e,E,g]),{restorePositionSetting:g}}function Jt({open:t,onOpenChange:n,children:e,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:d=!1,setBackgroundColorOnScale:f=!0,closeThreshold:S=Be,scrollLockTimeout:E=ke,dismissible:g=!0,handleOnly:w=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:H,setActiveSnapPoint:F,fixed:C,modal:z=!0,onClose:p,nested:L,noBodyStyles:A,direction:c="bottom",defaultOpen:I=!1,disablePreventScroll:q=!0,snapToSequentialPoint:m=!1,preventScrollRestoration:R=!1,repositionInputs:v=!0,onAnimationEnd:N,container:s,autoFocus:P=!1}){var M,B;const[k=!1,X]=Gt({defaultProp:I,prop:t,onChange:l=>{n==null||n(l),!l&&!L&&se(),setTimeout(()=>{N==null||N(l)},O.DURATION*1e3),l&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[U,G]=r.useState(!1),[nt,ht]=r.useState(!1),[ee,$t]=r.useState(!1),Z=r.useRef(null),ut=r.useRef(null),gt=r.useRef(null),vt=r.useRef(null),ct=r.useRef(null),rt=r.useRef(!1),yt=r.useRef(null),bt=r.useRef(0),tt=r.useRef(!1),At=r.useRef(0),u=r.useRef(null),Mt=r.useRef(((M=u.current)==null?void 0:M.getBoundingClientRect().height)||0),Pt=r.useRef(((B=u.current)==null?void 0:B.getBoundingClientRect().width)||0),St=r.useRef(0),ne=r.useCallback(l=>{o&&l===ot.length-1&&(ut.current=new Date)},[]),{activeSnapPoint:re,activeSnapPointIndex:at,setActiveSnapPoint:It,onRelease:ae,snapPointsOffset:ot,onDrag:oe,shouldFade:Nt,getPercentageDragged:ie}=Fe({snapPoints:o,activeSnapPointProp:H,setActiveSnapPointProp:F,drawerRef:u,fadeFromIndex:h,overlayRef:Z,onSnapPointChange:ne,direction:c,container:s,snapToSequentialPoint:m});Ae({isDisabled:!k||nt||!z||ee||!U||!v||!q});const{restorePositionSetting:se}=Ve({isOpen:k,modal:z,nested:L,hasBeenOpened:U,preventScrollRestoration:R,noBodyStyles:A});function dt(){return(window.innerWidth-Ct)/window.innerWidth}function le(l){var y,T;!g&&!o||u.current&&!u.current.contains(l.target)||(Mt.current=((y=u.current)==null?void 0:y.getBoundingClientRect().height)||0,Pt.current=((T=u.current)==null?void 0:T.getBoundingClientRect().width)||0,ht(!0),gt.current=new Date,zt()&&window.addEventListener("touchend",()=>rt.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),bt.current=$(c)?l.pageY:l.pageX)}function _t(l,y){var T,D;let b=l;const V=(T=window.getSelection())==null?void 0:T.toString(),_=u.current?pt(u.current,c):null,W=new Date;if(b.hasAttribute("data-vaul-no-drag")||b.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(ut.current&&W.getTime()-ut.current.getTime()<500)return!1;if(_!==null&&(c==="bottom"?_>0:_<0))return!0;if(V&&V.length>0)return!1;if(W.getTime()-((D=ct.current)==null?void 0:D.getTime())<E&&_===0||y)return ct.current=W,!1;for(;b;){if(b.scrollHeight>b.clientHeight){if(b.scrollTop!==0)return ct.current=new Date,!1;if(b.getAttribute("role")==="dialog")return!0}b=b.parentNode}return!0}function ue(l){if(u.current&&nt){const y=c==="bottom"||c==="right"?1:-1,T=(bt.current-($(c)?l.pageY:l.pageX))*y,D=T>0,b=o&&!g&&!D;if(b&&at===0)return;const V=Math.abs(T),_=document.querySelector("[data-vaul-drawer-wrapper]"),W=c==="bottom"||c==="top"?Mt.current:Pt.current;let Y=V/W;const J=ie(V,D);if(J!==null&&(Y=J),b&&Y>=1||!rt.current&&!_t(l.target,D))return;if(u.current.classList.add(Dt),rt.current=!0,x(u.current,{transition:"none"}),x(Z.current,{transition:"none"}),o&&oe({draggedDistance:T}),D&&!o){const j=He(T),ft=Math.min(j*-1,0)*y;x(u.current,{transform:$(c)?`translate3d(0, ${ft}px, 0)`:`translate3d(${ft}px, 0, 0)`});return}const K=1-Y;if((Nt||h&&at===h-1)&&(a==null||a(l,Y),x(Z.current,{opacity:`${K}`,transition:"none"},!0)),_&&Z.current&&d){const j=Math.min(dt()+Y*(1-dt()),1),ft=8-Y*8,Lt=Math.max(0,14-Y*14);x(_,{borderRadius:`${ft}px`,transform:$(c)?`scale(${j}) translate3d(0, ${Lt}px, 0)`:`scale(${j}) translate3d(${Lt}px, 0, 0)`,transition:"none"},!0)}if(!o){const j=V*y;x(u.current,{transform:$(c)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}}}r.useEffect(()=>{var l;function y(){if(!u.current||!v)return;const T=document.activeElement;if(Ot(T)||tt.current){var D;const b=((D=window.visualViewport)==null?void 0:D.height)||0,V=window.innerHeight;let _=V-b;const W=u.current.getBoundingClientRect().height||0,Y=W>V*.8;St.current||(St.current=W);const J=u.current.getBoundingClientRect().top;if(Math.abs(At.current-_)>60&&(tt.current=!tt.current),o&&o.length>0&&ot&&at){const K=ot[at]||0;_+=K}if(At.current=_,W>b||tt.current){const K=u.current.getBoundingClientRect().height;let j=K;K>b&&(j=b-(Y?J:Ct)),C?u.current.style.height=`${K-Math.max(_,0)}px`:u.current.style.height=`${Math.max(j,b-J)}px`}else u.current.style.height=`${St.current}px`;o&&o.length>0&&!tt.current?u.current.style.bottom="0px":u.current.style.bottom=`${Math.max(_,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",y),()=>{var T;return(T=window.visualViewport)==null?void 0:T.removeEventListener("resize",y)}},[at,o,ot]);function it(l){ce(),p==null||p(),l||X(!1),setTimeout(()=>{o&&It(o[0])},O.DURATION*1e3)}function Ht(){if(!u.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),y=pt(u.current,c);x(u.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),x(Z.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),d&&y&&y>0&&k&&x(l,{borderRadius:`${Xt}px`,overflow:"hidden",...$(c)?{transform:`scale(${dt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${dt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function ce(){!nt||!u.current||(u.current.classList.remove(Dt),rt.current=!1,ht(!1),vt.current=new Date)}function de(l){if(!nt||!u.current)return;u.current.classList.remove(Dt),rt.current=!1,ht(!1),vt.current=new Date;const y=pt(u.current,c);if(!_t(l.target,!1)||!y||Number.isNaN(y)||gt.current===null)return;const T=vt.current.getTime()-gt.current.getTime(),D=bt.current-($(c)?l.pageY:l.pageX),b=Math.abs(D)/T;if(b>.05&&($t(!0),setTimeout(()=>{$t(!1)},200)),o){ae({draggedDistance:D*(c==="bottom"||c==="right"?1:-1),closeDrawer:it,velocity:b,dismissible:g}),i==null||i(l,!0);return}if(c==="bottom"||c==="right"?D>0:D<0){Ht(),i==null||i(l,!0);return}if(b>qt){it(),i==null||i(l,!1);return}var V;const _=Math.min((V=u.current.getBoundingClientRect().height)!=null?V:0,window.innerHeight);var W;const Y=Math.min((W=u.current.getBoundingClientRect().width)!=null?W:0,window.innerWidth),J=c==="left"||c==="right";if(Math.abs(y)>=(J?Y:_)*S){it(),i==null||i(l,!1);return}i==null||i(l,!0),Ht()}r.useEffect(()=>(k&&(x(document.documentElement,{scrollBehavior:"auto"}),ut.current=new Date),()=>{_e(document.documentElement,"scrollBehavior")}),[k]);function fe(l){const y=l?(window.innerWidth-Q)/window.innerWidth:1,T=l?-Q:0;yt.current&&window.clearTimeout(yt.current),x(u.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:`scale(${y}) translate3d(0, ${T}px, 0)`}),!l&&u.current&&(yt.current=setTimeout(()=>{const D=pt(u.current,c);x(u.current,{transition:"none",transform:$(c)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})},500))}function me(l,y){if(y<0)return;const T=(window.innerWidth-Q)/window.innerWidth,D=T+y*(1-T),b=-Q+y*Q;x(u.current,{transform:$(c)?`scale(${D}) translate3d(0, ${b}px, 0)`:`scale(${D}) translate3d(${b}px, 0, 0)`,transition:"none"})}function pe(l,y){const T=$(c)?window.innerHeight:window.innerWidth,D=y?(T-Q)/T:1,b=y?-Q:0;y&&x(u.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(c)?`scale(${D}) translate3d(0, ${b}px, 0)`:`scale(${D}) translate3d(${b}px, 0, 0)`})}return r.createElement(Se,{defaultOpen:I,onOpenChange:l=>{!g&&!l||(l?G(!0):it(!0),X(l))},open:k},r.createElement(Wt.Provider,{value:{activeSnapPoint:re,snapPoints:o,setActiveSnapPoint:It,drawerRef:u,overlayRef:Z,onOpenChange:n,onPress:le,onRelease:de,onDrag:ue,dismissible:g,handleOnly:w,isOpen:k,isDragging:nt,shouldFade:Nt,closeDrawer:it,onNestedDrag:me,onNestedOpenChange:fe,onNestedRelease:pe,keyboardIsOpen:tt,modal:z,snapPointsOffset:ot,direction:c,shouldScaleBackground:d,setBackgroundColorOnScale:f,noBodyStyles:A,container:s,autoFocus:P}},e))}const Qt=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:a,onRelease:i,shouldFade:o,isOpen:d,modal:f}=et(),S=Yt(n,e),E=a&&a.length>0;return f?r.createElement(we,{onMouseUp:i,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":d&&E?"true":"false","data-vaul-snap-points-overlay":d&&o?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Qt.displayName="Drawer.Overlay";const Zt=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...a},i){const{drawerRef:o,onPress:d,onRelease:f,onDrag:S,keyboardIsOpen:E,snapPointsOffset:g,modal:w,isOpen:h,direction:H,snapPoints:F,container:C,handleOnly:z,autoFocus:p}=et(),[L,A]=r.useState(!1),c=Yt(i,o),I=r.useRef(null),q=r.useRef(null),m=r.useRef(!1),R=F&&F.length>0;ze();const v=(s,P,M=0)=>{if(m.current)return!0;const B=Math.abs(s.y),k=Math.abs(s.x),X=k>B,U=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(s.x*U<0)&&k>=0&&k<=M)return X}else if(!(s.y*U<0)&&B>=0&&B<=M)return!X;return m.current=!0,!0};r.useEffect(()=>{R&&window.requestAnimationFrame(()=>{A(!0)})},[]);function N(s){I.current=null,m.current=!1,f(s)}return r.createElement(he,{"data-vaul-drawer-direction":H,"data-vaul-drawer":"","data-vaul-delayed-snap-points":L?"true":"false","data-vaul-snap-points":h&&R?"true":"false","data-vaul-custom-container":C?"true":"false",...a,ref:c,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...n}:n,onPointerDown:s=>{z||(a.onPointerDown==null||a.onPointerDown.call(a,s),I.current={x:s.pageX,y:s.pageY},d(s))},onOpenAutoFocus:s=>{e==null||e(s),p||s.preventDefault()},onPointerDownOutside:s=>{if(t==null||t(s),!w||s.defaultPrevented){s.preventDefault();return}E.current&&(E.current=!1)},onFocusOutside:s=>{if(!w){s.preventDefault();return}},onPointerMove:s=>{if(q.current=s,z||(a.onPointerMove==null||a.onPointerMove.call(a,s),!I.current))return;const P=s.pageY-I.current.y,M=s.pageX-I.current.x,B=s.pointerType==="touch"?10:2;v({x:M,y:P},H,B)?S(s):(Math.abs(M)>B||Math.abs(P)>B)&&(I.current=null)},onPointerUp:s=>{a.onPointerUp==null||a.onPointerUp.call(a,s),I.current=null,m.current=!1,f(s)},onPointerOut:s=>{a.onPointerOut==null||a.onPointerOut.call(a,s),N(q.current)},onContextMenu:s=>{a.onContextMenu==null||a.onContextMenu.call(a,s),N(q.current)}})});Zt.displayName="Drawer.Content";const Ye=250,je=120,te=r.forwardRef(function({preventCycle:t=!1,children:n,...e},a){const{closeDrawer:i,isDragging:o,snapPoints:d,activeSnapPoint:f,setActiveSnapPoint:S,dismissible:E,handleOnly:g,isOpen:w,onPress:h,onDrag:H}=et(),F=r.useRef(null),C=r.useRef(!1);function z(){if(C.current){A();return}window.setTimeout(()=>{p()},je)}function p(){if(o||t||C.current){A();return}if(A(),(!d||d.length===0)&&E){i();return}if(f===d[d.length-1]&&E){i();return}const I=d.findIndex(m=>m===f);if(I===-1)return;const q=d[I+1];S(q)}function L(){F.current=window.setTimeout(()=>{C.current=!0},Ye)}function A(){window.clearTimeout(F.current),C.current=!1}return r.createElement("div",{onClick:z,onPointerCancel:A,onPointerDown:c=>{g&&h(c),L()},onPointerMove:c=>{g&&H(c)},ref:a,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});te.displayName="Drawer.Handle";function qe({onDrag:t,onOpenChange:n,...e}){const{onNestedDrag:a,onNestedOpenChange:i,onNestedRelease:o}=et();if(!a)throw new Error("Drawer.NestedRoot must be placed in another drawer");return r.createElement(Jt,{nested:!0,onClose:()=>{i(!1)},onDrag:(d,f)=>{a(d,f),t==null||t(d,f)},onOpenChange:d=>{d&&i(d)},onRelease:o,...e})}function Xe(t){const n=et(),{container:e=n.container,...a}=t;return r.createElement(Re,{container:e,...a})}const Je={Root:Jt,NestedRoot:qe,Content:Zt,Overlay:Qt,Trigger:ge,Portal:Xe,Handle:te,Close:ve,Title:ye,Description:be};export{Je as D};
